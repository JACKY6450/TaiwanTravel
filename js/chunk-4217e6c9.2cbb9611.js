(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4217e6c9"],{"20aa":function(t,n,a){"use strict";a.r(n);var i=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"kaosiungInfo"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(n){t.isLoading=n}}}),a("header",{staticClass:"header"},[a("div",{staticClass:"container text-center"},[a("h1",{staticClass:"text-white",staticStyle:{"margin-bottom":"95px"}},[t._v("離島旅遊資訊")]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-5 mb-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentCity,expression:"currentCity"}],staticClass:"form-control input-lg",attrs:{name:"",id:""},on:{change:[function(n){var a=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){var n="_value"in t?t._value:t.value;return n}));t.currentCity=n.target.multiple?a:a[0]},function(n){return t.cityChange()}]}},t._l(t.cityNames,(function(n,i){return a("option",{key:i,domProps:{value:n}},[t._v(t._s(n))])})),0)]),a("div",{staticClass:"col-md-5"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentLocation,expression:"currentLocation"}],staticClass:"form-control input-lg",attrs:{name:"",id:""},on:{change:[function(n){var a=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){var n="_value"in t?t._value:t.value;return n}));t.currentLocation=n.target.multiple?a:a[0]},function(n){return t.changeLoading()}]}},[a("option",{attrs:{value:""}},[t._v("-- 全部 --")]),t._l(t.locations,(function(n,i){return a("option",{key:i,domProps:{value:n}},[t._v(t._s(n))])}))],2)])])])]),a("div",{staticClass:"container"},[a("PopularDistrict",{attrs:{popularSet:t.popularSet},on:{changeDistrict:t.changeDistrict}})],1),a("div",{staticClass:"container"},[a("hr",{staticClass:"my-5"}),a("section",[a("div",{staticClass:"row"},t._l(t.filterData[t.currentPage],(function(n,i){return a("ShowInfoCol",{key:i,attrs:{item:n},on:{openModal:t.openModal}})})),1)]),a("Pagination",{attrs:{currentPage:t.currentPage,pages:t.pages},on:{changePage:t.changePage}})],1),a("InfoDetail",{attrs:{dataTemp:t.dataTemp}})],1)},e=[],o=a("2909"),r=(a("4de4"),a("d3b7"),a("159b"),a("6062"),a("3ca3"),a("ddb0"),a("a630"),a("caad"),a("2532"),a("1157")),c=a.n(r),s=a("0e7a"),u=a("a86d"),l=a("e3dc"),h=a("1799"),f=a("705d"),d={name:"outerIsland",components:{PopularDistrict:u["a"],Pagination:h["a"],ShowInfoCol:l["a"],InfoDetail:f["a"]},data:function(){return{data:[],currentData:[],locations:[],popularSet:[],dataTemp:{},cityNames:[],currentCity:"",currentLocation:"",currentPage:0,pages:0,isLoading:!1,popularColor:["btn-primary","btn-info","btn-purple","btn-success"]}},computed:{filterData:function(){var t=this,n=[],a=[];return a=""!==this.currentLocation?this.currentData.filter((function(n){return n.Zone===t.currentLocation})):this.currentData,a.forEach((function(t,a){a%10===0&&n.push([]);var i=parseInt(a/10);n[i].push(t)})),n}},watch:{filterData:function(t){this.pages=t.length,this.currentPage=0}},methods:{getUniqueList:function(){var t=this,n=new Set;this.data.forEach((function(a){a.Region===t.currentCity&&""!==a.Zone&&void 0!==a.Zone&&n.add(a.Zone)})),this.locations=Array.from(n);var a=[];this.data.forEach((function(n){n.Region===t.currentCity&&a.push(n)})),this.currentData=a},setPopular:function(){var t=this,n=[],a=s["d"].cityInform;a.forEach((function(a){t.currentCity===a.cityName&&(n=Object(o["a"])(a.popularLocations))})),this.popularColor.forEach((function(t,a){n[a]={Zone:n[a],ZoneColor:t}})),this.popularSet=n},cityChange:function(){this.getUniqueList(),this.setPopular(),this.currentLocation="",this.changeLoading()},changePage:function(t){var n=this;this.isLoading=!0,this.currentPage=t,setTimeout((function(){n.isLoading=!1}),500)},changeDistrict:function(t){var n=this;this.isLoading=!0,this.currentLocation=t,setTimeout((function(){n.isLoading=!1}),500)},changeLoading:function(){var t=this;this.isLoading=!0,setTimeout((function(){t.isLoading=!1}),500)},openModal:function(t){this.dataTemp=t,c()("#infoModal").modal("show")},recall:function(){var t=this,n="https://jacky6450.github.io/TaiwanTravel/data/scenic_spot_C_f.json";this.$http.get(n).then((function(n){t.init(n)}))},init:function(t){var n=this,a=t.data.XML_Head.Infos.Info,i=s["d"].cityInform;i.forEach((function(t){n.cityNames.push(t.cityName)}));var e=a.filter((function(t){if(n.cityNames.includes(t.Region))return t}));e.forEach((function(t){t.Zone=t.Town})),this.currentCity="澎湖縣",this.data=e,this.getUniqueList(),this.setPopular(),this.changeLoading()}},created:function(){var t=this,n="/data/scenic_spot_C_f.json";this.isLoading=!0,this.$http.get(n).then((function(n){t.init(n)})).catch((function(n){404===n.response.status&&t.recall()}))}},p=d,g=(a("586f"),a("2877")),v=Object(g["a"])(p,i,e,!1,null,"3ffbfd44",null);n["default"]=v.exports},"586f":function(t,n,a){"use strict";a("6e13")},"6e13":function(t,n,a){}}]);
//# sourceMappingURL=chunk-4217e6c9.2cbb9611.js.map